#!/usr/bin/env ruby
require 'curses'
require File.expand_path('../../lib/rfd', __FILE__)

Curses.cbreak
Curses.noecho
Curses.init_screen

begin
  rfd = Rfd::BaseWindow.new ARGV[0] || '.'

  loop do
    c = Curses.getch
    if rfd.respond_to? c
      rfd.public_send c
    else
      p c
    end
  end
ensure
  Curses.close_screen
end
